name: Deploy Maintenance Page

on:
  push:
    branches:
      - main # Or your deployment branch

jobs:
  deploy:
    runs-on: ubuntu-latest # Or your preferred runner

    steps:
      - name: Checkout code
        uses: actions/checkout@v2
      - name: Login to Azure
        uses: azure/login@v2
        with:
          client-id: ${{ secrets.AZUREAPPSERVICE_CLIENTID_6901D62D9F41492C8194F5CC36B4E02F }}
          tenant-id: ${{ secrets.AZUREAPPSERVICE_TENANTID_DA26FA7A88EB475CAF6918FEBC8C01C5 }}
          subscription-id: ${{ secrets.AZUREAPPSERVICE_SUBSCRIPTIONID_798767DB5F574759859BA405C40E1B80 }}

      - name: Take application offline
        run: |
          # Create app_offline.htm file in the web root directory
          echo "Taking application offline for deployment"
          echo '<!DOCTYPE html><html><head><title>Maintenance</title></head><body><h1>Maintenance in progress</h1><p>We are currently updating our application. Please check back soon.</p></body></html>' > /app_offline.htm # Replace with your actual path
